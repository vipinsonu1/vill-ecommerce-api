/// <reference types="bluebird" />
import { MapProxy } from './MapProxy';
import HazelcastClient from '../HazelcastClient';
import { Data } from '../serialization/Data';
import * as Promise from 'bluebird';
import { KeyStateMarker } from '../nearcache/KeyStateMarker';
export declare class NearCachedMapProxy<K, V> extends MapProxy<K, V> {
    private nearCache;
    private invalidationListenerId;
    private keyStateMarker;
    constructor(client: HazelcastClient, servicename: string, name: string);
    private tryToPutNearCache(key, value);
    private resetToUnmarkedState(key);
    private unmarkRemainingMarkedKeys(markers);
    private invalidatCacheEntryAndReturn<T>(keyData, retVal);
    private invalidateCacheAndReturn<T>(retVal);
    getKeyStateMarker(): KeyStateMarker;
    clear(): Promise<void>;
    protected containsKeyInternal(keyData: Data): Promise<boolean>;
    protected deleteInternal(keyData: Data): Promise<void>;
    evictAll(): Promise<void>;
    protected evictInternal(key: Data): Promise<boolean>;
    protected putAllInternal(partitionsToKeysData: {
        [id: string]: [Data, Data][];
    }): Promise<void>;
    protected putIfAbsentInternal(keyData: Data, valueData: Data, ttl: number): Promise<V>;
    protected putTransientInternal(keyData: Data, valueData: Data, ttl: number): Promise<void>;
    protected executeOnKeyInternal(keyData: Data, proData: Data): Promise<V>;
    protected putInternal(keyData: Data, valueData: Data, ttl: number): Promise<V>;
    protected getInternal(keyData: Data): Promise<V>;
    protected tryRemoveInternal(keyData: Data, timeout: number): Promise<boolean>;
    protected removeInternal(keyData: Data, value: V): Promise<V>;
    protected getAllInternal(partitionsToKeys: {
        [id: string]: any;
    }, result?: any[]): Promise<any[]>;
    protected replaceIfSameInternal(keyData: Data, oldValueData: Data, newValueData: Data): Promise<boolean>;
    protected replaceInternal(keyData: Data, valueData: Data): Promise<V>;
    protected setInternal(keyData: Data, valueData: Data, ttl: number): Promise<void>;
    protected tryPutInternal(keyData: Data, valueData: Data, timeout: number): Promise<boolean>;
    private addNearCacheInvalidationListener();
    private createInvalidationListenerCodec(name, flags);
}
